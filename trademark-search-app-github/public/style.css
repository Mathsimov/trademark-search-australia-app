/* Global reset and base styles */
/* Use border-box model universally to prevent padding/borders from causing overflow */
*, *::before, *::after {
    box-sizing: border-box;
}
body {
    min-height: 100vh;
    margin: 0;
    padding: 0;
    /* Soft gradient background reminiscent of frosted glass surfaces */
    background: linear-gradient(135deg, #e0f7fa, #d5eff2);
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
    color: #333;
    display: flex;
    align-items: flex-start;
    justify-content: center;
    overflow-y: auto;
    /* Prevent horizontal scrolling on small screens */
    overflow-x: hidden;
}

/* Container */
.container {
    width: 100%;
    max-width: 1300px;
    margin: 40px 10px;
    padding: 0 25px;
}

/* Glassmorphism panel */
.glass {
    background: rgba(255, 255, 255, 0.25);
    border-radius: 32px;
    backdrop-filter: blur(10px);
    -webkit-backdrop-filter: blur(10px);
    border: 1px solid rgba(255, 255, 255, 0.3);
    box-shadow: 0 8px 32px rgba(31, 38, 135, 0.37);
    padding: 24px;
}

/* Headings */
h1 {
    margin-top: 0;
    margin-bottom: 20px;
    text-align: center;
    color: #212121;
}

/* Textarea for multiple names */
textarea {
    width: 95%;
    padding: 10px;
    border-radius: 8px;
    border: 1px solid rgba(0, 0, 0, 0.2);
    resize: both;
    min-height: 100px;
    font-size: 1rem;
    margin-bottom: 16px;
}

/*
 * Custom tag input component for entering multiple search terms.
 * This replaces the traditional textarea and turns each comma- or
 * newlineâ€‘delimited entry into an interactive chip. Chips can be
 * clicked to edit their value or removed via a close button. The
 * input stays focused while typing and clicking elsewhere in the
 * container also focuses it to avoid accidental deselection.
 */
.tag-input {
    width: 95%;
    padding: 8px;
    border-radius: 8px;
    border: 1px solid rgba(0, 0, 0, 0.2);
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    min-height: 40px;
    margin-bottom: 16px;
    cursor: text;
    background: rgba(255, 255, 255, 0.8);
    /* Limit the overall height of the tag input to approximately four lines of chips.
       Once the content exceeds this height, the container becomes vertically
       scrollable so the page layout remains stable. */
    max-height: 160px;
    overflow-y: auto;
}

.tag-input input {
    flex: 1;
    min-width: 120px;
    border: none;
    outline: none;
    font-size: 1rem;
    margin: 4px 0;
    background: transparent;
}

.chip {
    display: inline-flex;
    align-items: center;
    background: rgba(25, 118, 210, 0.1);
    border: 1px solid rgba(25, 118, 210, 0.3);
    border-radius: 16px;
    padding: 4px 8px;
    margin: 4px;
    font-size: 0.9rem;
    color: #1976d2;
    user-select: none;
}

/* Visual indication for selected chips when the user performs a select all
   (Ctrl+A) or drags to select. The colours approximate the default
   selection background seen in native text fields. */
/* Selected chips display a more pronounced highlight similar to text selections
   in word processors. A solid blue-ish background with darker border and
   contrasting text make the selection obvious. */
.chip.selected {
    background: rgba(25, 118, 210, 0.4);
    border-color: rgba(21, 101, 192, 0.7);
    color: #0d47a1;
}

.chip span {
    cursor: pointer;
    margin-right: 4px;
}

.chip button {
    border: none;
    background: transparent;
    cursor: pointer;
    font-size: 1rem;
    line-height: 1;
    padding: 0 4px;
    color: inherit;
}

.chip button:focus {
    outline: none;
}

/* My name */
.byline {
    font-size: 1rem;
    color: #555;
    text-align: center;
    margin-top: -16px;
    margin-bottom: 8px;
    font-weight: 500;
    font-style: italic;
}

/* Button styling */
button {
    background-color: #1976d2;
    color: #fff;
    border: none;
    padding: 12px 20px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 1rem;
    transition: background-color 0.2s ease;
}

button:hover {
    background-color: #1565c0;
}

button:disabled {
    background-color: #90caf9;
    cursor: default;
}

/* Filter controls container. Aligns checkboxes and sort selector horizontally
   with spacing. */
.filter-controls {
    display: flex;
    flex-wrap: wrap;
    gap: 8px;
    align-items: center;
    margin-bottom: 12px;
    font-size: 0.9rem;
}

/* Progress indicator list showing loading status for each name */
.progress-indicator {
    margin-top: 8px;
    margin-bottom: 12px;
    font-size: 0.85rem;
    color: #555;
}

.progress-indicator .pending {
    color: #1976d2;
}

.progress-indicator .done {
    color: #388e3c;
}

/* Info icon next to risk labels */
/* Info icon removed; styles no longer needed */

/* Clear history button styling is handled inline but can be customized here if needed */

/* History chip container */
.history {
    /* Ensure the history section occupies full width and does not cause
       layout shifts when expanded. Display the label on its own line. */
    margin-top: 8px;
    margin-bottom: 12px;
    display: block;
    width: 100%;
    font-size: 0.85rem;
}

.history .history-chip:hover {
    background: rgba(25, 118, 210, 0.2);
}

/* History items container: flex-wrap ensures chips and the clear button wrap
   within the same width without affecting the parent container's width. */
.history-items {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    margin-top: 4px;
    /* Ensure the contents container takes up the full available width to
       prevent it from expanding the parent container when items wrap */
    width: 100%;
}

/* Clear history button: styled similarly to other action buttons but smaller */
.clear-history-btn {
    background-color: #1976d2;
    color: #fff;
    border: none;
    padding: 6px 12px;
    border-radius: 8px;
    cursor: pointer;
    font-size: 0.8rem;
    margin-right: 12px;
    transition: background-color 0.2s ease;
}
.clear-history-btn:hover {
    background-color: #1565c0;
}

/* Inline show more/less button within result cards. It appears below the
   trademark filing table to toggle display of additional rows. Uses a
   minimalist style to blend with the card design. */
.show-more-button {
    background: transparent;
    color: #1976d2;
    border: none;
    cursor: pointer;
    text-decoration: underline;
    font-size: 0.9rem;
    padding: 4px 0;
    margin-left: 0;
}
.show-more-button:hover {
    color: #0d47a1;
}

/* Results section */
.results {
    margin-top: 24px;
    /* Use CSS grid to allow cards to wrap nicely on larger screens */
    display: grid;
    grid-template-columns: 1fr;
    gap: 16px;
}

/* Card for each name result */
.card {
    background: rgba(255, 255, 255, 0.3);
    border-radius: 12px;
    padding: 16px;
    margin-bottom: 16px;
    border: 1px solid rgba(255, 255, 255, 0.4);
}

/* Score badge styles */
.score-label {
    font-weight: bold;
    padding: 4px 8px;
    border-radius: 4px;
    color: #fff;
    display: inline-block;
    margin-right: 8px;
    min-width: 60px;
    text-align: center;
}

.score-green {
    background-color: #4caf50;
}

.score-yellow {
    background-color: #ff9800;
}

.score-red {
    background-color: #f44336;
}

/* Table for showing individual trademark details */
.detail-table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 8px;
    /* prevent cells from wrapping so horizontal scroll works on small screens */
    white-space: nowrap;
}

.detail-table th,
.detail-table td {
    text-align: left;
    padding: 4px 8px;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
    font-size: 0.9rem;
}

.detail-table th {
    background-color: rgba(0, 0, 0, 0.05);
    font-weight: 600;
}

/* Wrapper for tables to enable horizontal scrolling on small screens */
.table-container {
    width: 100%;
    overflow-x: auto;
}

@media (max-width: 600px) {
    .table-container {
        overflow-x: visible;
    }
    .detail-table {
        border: 0;
        white-space: normal;
    }
        .detail-table thead {
        display: none;
    }
    .detail-table tr {
        display: block;
        margin-bottom: 1rem;
        border: 1px solid rgba(0, 0, 0, 0.1);
        border-radius: 8px;
        padding: 8px;
        background: rgba(255, 255, 255, 0.3);
    }
    .detail-table td {
        display: flex;
        width: 100%;
        padding: 4px 0;
        border: none;
    }
    .detail-table td::before {
        content: attr(data-label);
        flex: 0 0 45%;
        font-weight: 600;
        margin-right: 8px;
        white-space: nowrap;
    }
}

/* Spinner for loading state */
.spinner {
    border: 4px solid rgba(0, 0, 0, 0.1);
    border-left-color: #1976d2;
    border-radius: 50%;
    width: 40px;
    height: 40px;
    animation: spin 1s linear infinite;
    margin: 20px auto;
}

@keyframes spin {
    to {
        transform: rotate(360deg);
    }
}

/* Responsive adjustments for smaller screens */
@media (max-width: 600px) {
    h1 {
        font-size: 1.4rem;
    }

    textarea {
        font-size: 0.9rem;
        min-height: 80px;
    }

    button {
        font-size: 0.9rem;
        padding: 10px 16px;
    }

    .detail-table th,

    .detail-table td {
        font-size: 0.8rem;
        padding: 3px 6px;
    }

    .card {
        padding: 12px;
    }

    .glass {
        padding: 16px;
    }

    /* On very small screens shrink the score badge */
    .score-label {
        min-width: 48px;
        font-size: 0.8rem;
        padding: 3px 6px;
    }

    /* Ensure container does not cause horizontal overflow on narrow devices */
    .container {
        width: 100%;
        padding: 0 12px;
    }

    /* Force results grid to single column to avoid columns that exceed the viewport */
    .results {
        grid-template-columns: 1fr;
    }

    /* Remove lateral margin on cards to reduce required width */
    .card {
        margin-left: 0;
        margin-right: 0;
    }

    /*
     * Mobile optimisation for tag inputs and chips. These styles apply
     * exclusively on screens 600px wide or less to improve usability
     * without affecting desktop layouts. Chips become larger with more
     * generous padding, and the tag input stretches to the full width
     * of the container. Buttons and fonts are also increased for better
     * touch targets.
     */
    .tag-input {
        width: 100%;
        min-height: 48px;
        padding: 10px;
        /* Increase the max height slightly on mobile to account for larger chips */
        max-height: 200px;
        overflow-y: auto;
    }
    .tag-input input {
        min-width: 80px;
        font-size: 1rem;
    }
    .chip {
        padding: 6px 10px;
        margin: 6px;
        font-size: 1rem;
        border-radius: 20px;
    }
    .chip button {
        font-size: 1rem;
        padding: 0 6px;
    }
    /* Adjust selection highlight for larger chips on mobile */
    .chip.selected {
        background: rgba(25, 118, 210, 0.5);
        border-color: rgba(21, 101, 192, 0.8);
        color: #0d47a1;
    }
}

/* Medium screens: allow two columns of result cards */
@media (min-width: 600px) {
    .results {
        grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
    }
}

/* Medium screens: allow two columns of result cards */
@media (min-width: 1400px) {
    .results {
        grid-template-columns: repeat(auto-fill, minmax(1200px, 1fr));
    }
}

/* Very small screens: stack controls and increase touch targets */
@media (max-width: 400px) {
    h1 {
        font-size: 1.2rem;
    }
    textarea {
        font-size: 0.85rem;
        min-height: 70px;
    }
    button {
        width: 100%;
        margin-top: 8px;
    }

    /* Further mobile optimisation for very small screens. Increase tag input
       height slightly and ensure chips remain legible and easy to tap. */
    .tag-input {
        min-height: 56px;
        padding: 12px;
        /* Allow a bit more room for chips on very small screens */
        max-height: 220px;
        overflow-y: auto;
    }
    .chip {
        font-size: 0.95rem;
        padding: 6px 10px;
        border-radius: 20px;
    }
}

@media (max-width: 400px) {
    .byline {
        font-size: 0.9rem;
        margin-bottom: 20px;
    }
}

/* Adjust container width on medium screens */
@media (max-width: 900px) {
    .container {
        width: 95%;
    }
}

/* Narrow down content on very large screens for better readability */
@media (max-width: 1400px) {
    .container {
        width: 95%;
    }
}
